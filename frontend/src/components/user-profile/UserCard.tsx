import { Rating } from '@mui/material';
import PropTypes from 'prop-types';
import styles from './UserCard.module.scss';

const UserCard = (props) => {

  const { userProfile } = props;
  const rating = userProfile?.rating ?? '';
  const joinDate = new Date(userProfile?.createdAt ?? '').toLocaleDateString('en-GB');
  
  return (
    <div className={styles['card-wrapper']}>
      <div className={styles['background-image']}>
        <svg width={'100%'} height={'auto'} viewBox='0 0 375 125' fill='none' xmlns='http://www.w3.org/2000/svg' className='w-full h-full'><g clipPath='url(#clip0_2827_39406)'><rect width={375} height={125} fill='#F4F4F4' /><g clipPath='url(#clip1_2827_39406)'><circle cx={188} cy={62} r={120} fill='#EEEEEE' /></g><g opacity='0.8'><mask id='mask0_2827_39406' maskUnits='userSpaceOnUse' x={93} y={27} width={190} height={70}><path fillRule='evenodd' clipRule='evenodd' d='M282.906 27H93V97H187.953H282.906V27V27Z' fill='white' /></mask><g mask='url(#mask0_2827_39406)'><path fillRule='evenodd' clipRule='evenodd' d='M281.385 43.1766H251.27C250.338 43.1766 249.994 43.6572 249.994 44.3857C249.994 44.7333 250.216 45.2682 250.6 45.8931C252.121 48.3693 252.981 49.7855 254.345 51.6282C254.591 51.9597 254.967 52.1416 255.376 52.1416H260.845L254.909 83.2295C254.844 83.5605 255.089 83.8587 255.433 83.8587H261.601C264.006 83.8587 266.083 82.1196 266.542 79.7174L271.791 52.1416L279.31 52.1255C279.67 52.1255 279.974 51.9066 280.112 51.595C280.58 50.5376 281.728 47.9965 281.728 47.9965C282.137 47.0196 282.363 46.4381 282.742 45.4125C282.874 45.0546 282.906 44.7172 282.906 44.4356C282.906 43.6073 282.236 43.1766 281.385 43.1766ZM214.383 43.1383C214.383 43.1383 186.535 43.1549 182.821 43.1383C182.036 43.1383 181.643 43.7343 181.643 44.4467C181.643 44.8941 182.21 45.8371 182.88 46.7652C183.305 47.3445 185.575 50.4226 186.492 51.6269C186.734 51.9445 187.114 52.1403 187.523 52.1403H193.527L187.599 83.1907C187.533 83.5056 187.779 83.8205 188.106 83.8205H194.24C196.661 83.8205 198.739 82.0813 199.197 79.6791L204.439 52.1403H209.809C210.218 52.1403 210.594 51.9418 210.84 51.6269C210.84 51.6269 212.122 49.9463 213.32 48.3563C214.084 47.3418 214.628 46.5999 215.087 45.9042C215.512 45.2749 215.708 44.7948 215.708 44.4467C215.708 43.7015 215.168 43.1383 214.383 43.1383ZM242.404 51.3634C241.265 50.3318 239.583 50.5963 238.352 51.8795L225.256 66.6595C225.146 66.7717 225.08 66.8167 225.08 66.8167C225.08 66.8167 224.993 66.7942 224.861 66.6595C224.182 66.0539 222.737 64.4392 222.737 64.4167C221.248 62.6899 219.539 63.0031 218.532 63.8336C217.525 64.6404 216.999 66.4573 217.94 68.028L218.204 68.4539C219.036 69.8664 220.306 71.9977 221.204 73.2079C222.101 74.3966 223.394 75.1375 224.795 75.2045H224.993C226.285 75.2045 227.533 74.6439 228.431 73.6118C232.46 69.1046 242.119 55.8491 242.557 55.2435C243.579 53.8176 243.411 52.2604 242.404 51.3634ZM235.847 42.3834C241.394 42.5765 245.564 44.4278 247.759 47.2446C250.016 50.003 250.522 54.8353 249.084 61.7608L248.222 65.8678C246.781 72.8512 244.598 77.5735 241.776 80.1559C238.955 82.7378 235.086 83.8718 228.907 84.1148C227.505 84.1706 225.656 84.1562 224.573 84.1148C218.257 83.8729 214.681 82.6402 212.425 79.8818C210.229 77.0649 209.824 72.2037 211.262 65.2788L212.125 61.1712C213.624 54.1878 215.783 49.4344 218.604 46.8525C221.426 44.2711 225.794 42.4585 231.513 42.3829C232.547 42.3694 234.153 42.3238 235.847 42.3834ZM245.804 38.0127C244.967 38.6076 243.556 39.4101 242.774 39.7443C242.283 39.9536 241.857 40.0319 241.427 40.0319C241.017 40.0319 240.492 39.8608 239.849 39.5426C238.7 38.974 236.951 38.1361 236.951 38.1361C236.16 37.6764 235.208 37.5948 234.352 37.9145L228.975 39.7293C228.264 39.9831 227.484 40.0496 226.758 39.8012C225.874 39.4987 223.217 37.9408 223.107 37.8512C222.874 37.6608 222.733 37.458 222.726 37.1791C222.717 36.8181 222.927 36.5697 223.443 36.2838L232.992 31.0551C233.727 30.635 234.583 30.407 235.465 30.407H238.027C238.782 30.407 239.029 30.4516 239.751 31.0465C241.3 32.3232 245.628 36.287 245.628 36.287C246.091 36.6802 246.331 36.9924 246.331 37.2821C246.331 37.5321 246.266 37.6844 245.804 38.0127ZM250.937 38.729C252.289 39.849 253.17 39.4135 254.838 38.0005C257.354 35.8703 258.426 35.0382 259.64 33.8082C261.358 32.0653 261.304 30.1443 260.286 29.1116C259.886 28.7061 258.368 27.8504 257.014 27.1407C256.576 26.9106 256.152 26.9439 255.85 27.3816C255.583 27.7684 250.746 34.9368 249.714 36.6148C249.519 36.9329 249.355 37.3111 249.935 37.8444C249.935 37.8444 250.594 38.4452 250.937 38.729ZM119.279 61.9299C118.064 59.0004 114.641 56.8321 109.562 56.8321C109.231 56.8321 106.028 56.8095 99.4258 57.8824C97.6148 58.1732 94.8322 58.5986 93.4186 58.9333C93.1319 59.0004 92.9327 59.2911 93.0212 59.5599C93.1759 60.0067 94.8322 61.2368 96.0465 61.438C96.6871 61.5501 97.3716 61.6166 98.0345 61.6837C95.9141 63.897 94.457 66.7364 93.8605 69.8896C92.2042 78.6765 97.4156 84.3998 105.233 84.3998C111.13 84.3998 115.436 81.3818 115.767 79.7049C115.943 78.7956 115.739 77.344 115.338 76.3709C115.255 76.1687 115.023 76.0995 114.83 76.1971C113.294 76.9706 111.131 77.4915 109.12 77.4915C104.351 77.4915 102.009 74.3834 102.892 69.7775C103.622 65.9317 105.52 63.7409 108.06 63.7409C109.847 63.7409 110.91 64.75 111.103 67.2541C111.123 67.5126 111.348 67.7192 111.602 67.6854C113.986 67.3673 116.04 66.7208 117.18 66.1329C118.55 65.4393 119.279 64.6352 119.433 63.7409C119.566 63.1589 119.566 62.6675 119.279 61.9299ZM162.054 87.5117C159.516 87.5117 157.32 89.2417 156.783 92.0581C156.198 95.1222 158.15 96.9998 160.541 96.9998C163.079 96.9998 165.324 95.2708 165.861 92.4534C166.447 89.3898 164.446 87.5117 162.054 87.5117ZM166.336 63.6898C163.553 63.6898 161.345 65.9257 160.461 70.3305C159.645 74.7797 161.013 77.4405 164.083 77.4405C166.866 77.4405 169.118 75.2046 169.935 70.8218C170.819 66.3726 169.405 63.6898 166.336 63.6898ZM177.112 60.0212C176.98 60.1328 176.87 60.2449 176.737 60.3559C178.835 62.6814 179.829 66.1474 178.968 70.5746C177.311 79.3615 169.803 84.3472 162.559 84.3472C155.338 84.3472 149.773 79.3615 151.452 70.5746C152.18 66.7959 153.991 63.7098 156.376 61.4524C155.78 61.4074 155.184 61.3628 154.588 61.2958C153.35 61.1611 151.871 59.9536 151.716 59.5067C151.607 59.238 151.827 58.9478 152.114 58.8807C153.527 58.5454 156.045 58.12 157.878 57.8298C164.481 56.7564 167.594 56.7789 167.882 56.7789C170.509 56.7789 172.916 57.45 174.838 58.7241C175.147 58.3443 175.39 57.9419 175.544 57.5611C174.484 57.1813 173.822 56.1084 174.109 54.5881C174.44 52.7765 175.898 51.6586 177.532 51.6586C179.056 51.6586 180.315 52.8661 179.939 54.8338C179.564 56.846 178.614 58.5454 177.112 60.0212ZM148.088 80.1959C147.641 82.0628 145.099 84.1533 141.838 84.1533C138.326 84.1533 135.434 82.074 136.472 76.8866L138.26 67.4962C138.768 64.9476 137.973 63.74 135.831 63.74C134.661 63.74 133.203 64.2539 131.966 65.1257L128.476 83.4768C128.438 83.6753 128.267 83.8185 128.067 83.8185H121.278C120.02 83.8185 119.533 83.2596 119.732 82.2757L125.474 52.2698C124.436 52.2473 123.133 52.1577 121.543 51.9785C120.329 51.845 118.495 50.4363 118.341 49.9889C118.253 49.6986 118.451 49.4074 118.739 49.3403C120.152 49.0276 129.603 47.3957 133.004 47.3957C134.55 47.3957 135.235 48.0888 134.992 49.3628L132.894 60.185C135.191 57.9711 138.216 56.8312 140.756 56.8312C146.166 56.8312 148.618 60.3862 147.16 67.8089L145.747 75.3218C145.504 76.6409 145.879 77.245 146.806 77.245H148.132C148.243 78.2224 148.332 79.174 148.088 80.1959Z' fill='white' /></g></g></g><defs><clipPath id='clip0_2827_39406'><rect width={375} height={125} fill='white' /></clipPath><clipPath id='clip1_2827_39406'><rect width={416} height={125} fill='white' transform='translate(-20)' /></clipPath></defs></svg>
      </div>
      <div className={styles['user-details']}>
        <div className={styles['card-header']}>
          <span className={styles['avatar']}>
            <img alt='Avatar' src='https://static.chotot.com/storage/marketplace/common/png/default_user.png' />
            <span className={styles['status-icon']}></span>
          </span>
          <button>
            <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 25' fill='currentColor' aria-hidden='true' className='h-6 w-6 text-gray-900'><path d='M11.99 11.145a1.78 1.78 0 100 3.562 1.78 1.78 0 100-3.563zM4.781 11.145a1.78 1.78 0 10-.001 3.56 1.78 1.78 0 00.001-3.56zM19.219 11.145a1.78 1.78 0 10-.002 3.56 1.78 1.78 0 00.002-3.56z' /></svg>
          </button>
        </div>
        <div className={styles['user-name']}>{userProfile?.username ?? ''}</div>
        <div className={styles['rating']}>
          <span className={styles['amount']}>{rating}</span>
          <span className={styles['stars']}><Rating size='small' precision={0.2} value={parseInt(rating)} /></span>
          <span className={styles['review']}>( đánh giá)</span>
        </div>
        <div className={styles['follow']}>
          <span>
            <span>Người theo dõi: </span>
            <span className={styles['follower-count']}>{userProfile?.follower ?? ''}</span>
          </span>
          <span className={styles['separator']}></span>
          <span>
            <span>Đang theo dõi: </span>
            <span className={styles['following-count']}>{userProfile?.following ?? ''}</span>
          </span>
        </div>
        <button className={styles['follow-btn']}>
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" height="1em" fill='white' viewBox="0 0 448 512">{/*! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. */}<path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z" /></svg>
          </span>
          <span>Theo dõi</span>
        </button>
        <div className={styles["stats"]}>
          <div className={styles["stats-line"]}>
            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor"><path fillRule="evenodd" d="M3.644 4.392a.15.15 0 01.106-.044h12a.15.15 0 01.15.15v8.25a.15.15 0 01-.15.15H6.712a.6.6 0 00-.377.134L3.6 15.242V4.498a.15.15 0 01.044-.106zM6.9 14.118l-3.523 2.847a.6.6 0 01-.977-.467v-12a1.35 1.35 0 011.35-1.35h12a1.35 1.35 0 011.35 1.35v3.15h3.15a1.35 1.35 0 011.35 1.35v12a.6.6 0 01-.977.467l-3.548-2.867H8.25a1.35 1.35 0 01-1.35-1.35v-3.13zm10.2-5.27h3.15a.15.15 0 01.15.15v10.744l-2.735-2.21a.6.6 0 00-.378-.134H8.25a.15.15 0 01-.15-.15v-3.15h7.65a1.35 1.35 0 001.35-1.35v-3.9zM6.8 7.23c0-.276.192-.5.428-.5h5.143c.237 0 .429.224.429.5 0 .277-.192.5-.429.5H7.228c-.236 0-.428-.223-.428-.5zm.428 2.5c-.236 0-.428.224-.428.5 0 .277.192.5.428.5h5.143c.237 0 .429-.223.429-.5 0-.276-.192-.5-.429-.5H7.228z" clipRule="evenodd" /></svg></span>
            <span>Phản hồi chat: {userProfile?.respondToChat ?? ''}</span>
          </div>
          <div className={styles["stats-line"]}>
            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 25" aria-hidden="true" fill="currentColor"><path fillRule="evenodd" d="M4.5 5.377a1.55 1.55 0 00-1.55 1.55v13.5c0 .856.694 1.55 1.55 1.55h15a1.55 1.55 0 001.55-1.55v-13.5a1.55 1.55 0 00-1.55-1.55h-15zm-2.95 1.55a2.95 2.95 0 012.95-2.95h15a2.95 2.95 0 012.95 2.95v13.5a2.95 2.95 0 01-2.95 2.95h-15a2.95 2.95 0 01-2.95-2.95v-13.5z" clipRule="evenodd" /><path d="M13.875 12.926a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM17.625 12.926a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM13.875 16.676a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM17.625 16.676a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM6.375 16.676a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM10.125 16.676a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM6.375 20.426a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM10.125 20.426a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25zM13.875 20.426a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z" /><path fillRule="evenodd" d="M6 2.477a.7.7 0 01.7.7v1.5a.7.7 0 11-1.4 0v-1.5a.7.7 0 01.7-.7zm12 0a.7.7 0 01.7.7v1.5a.7.7 0 11-1.4 0v-1.5a.7.7 0 01.7-.7zM2.25 7.727h19.5v1.4H2.25v-1.4z" clipRule="evenodd" /></svg></span>
            <span>Đã tham gia: {joinDate}</span>
          </div>
          <div className={styles["stats-line"]}>
            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 25" aria-hidden="true" fill="currentColor"><path fillRule="evenodd" d="M16.704 9.271a.8.8 0 01-.027 1.131l-5.503 5.25a.8.8 0 01-1.105 0l-2.747-2.625a.8.8 0 111.106-1.157l2.194 2.097 4.951-4.722a.8.8 0 011.131.026z" clipRule="evenodd" /><path fillRule="evenodd" d="M12 3.873a8.2 8.2 0 100 16.4 8.2 8.2 0 000-16.4zm-9.8 8.2c0-5.412 4.388-9.8 9.8-9.8 5.413 0 9.8 4.388 9.8 9.8 0 5.413-4.387 9.8-9.8 9.8-5.412 0-9.8-4.387-9.8-9.8z" clipRule="evenodd" /></svg></span>
            <span>Đã xác thực: </span>
          </div>
          <div className={styles["stats-line"]}>
            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor"><g fillRule="evenodd" clipPath="url(#clip0_8440_50966)" clipRule="evenodd"><path d="M12 7.45a2.3 2.3 0 100 4.6 2.3 2.3 0 000-4.6zm-3.7 2.3a3.7 3.7 0 117.4 0 3.7 3.7 0 01-7.4 0z" /><path d="M12 2.95a6.8 6.8 0 00-6.8 6.8c0 3.124 1.743 5.963 3.578 8.073A23.683 23.683 0 0012 20.877a23.672 23.672 0 003.222-3.054c1.835-2.11 3.578-4.95 3.578-8.072a6.8 6.8 0 00-6.8-6.8zm0 18.8l-.402.574-.002-.002-.006-.003-.019-.014a19.876 19.876 0 01-.319-.237 25.097 25.097 0 01-3.53-3.327C5.807 16.54 3.8 13.378 3.8 9.751a8.2 8.2 0 0116.4 0c0 3.627-2.007 6.788-3.922 8.99a25.095 25.095 0 01-3.53 3.327 14.959 14.959 0 01-.32.237l-.019.014-.005.003-.002.002L12 21.75zm0 0l.401.574a.7.7 0 01-.803 0L12 21.75z" /></g><defs><clipPath id="clip0_8440_50966"><path d="M0 0h24v24H0z" /></clipPath></defs></svg></span>
            <span>Địa chỉ: {userProfile?.address ?? ''}</span>
          </div>
        </div>
      </div>
    </div>
  )
}

UserCard.propTypes = {
  userProfile: PropTypes.object
}

export default UserCard